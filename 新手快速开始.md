# 🚀 新手快速开始指南

嗨！别担心，我会用最简单的方式教你。跟着做就行！

---

## 第一步：安装新的依赖包

打开命令行（终端），在项目文件夹里运行：

```bash
npm install
```

这会安装后端需要的包（大约需要 1-2 分钟）。

---

## 第二步：注册 Supabase（免费数据库）

### 1. 打开网站
在浏览器打开：https://supabase.com/

### 2. 注册账号
- 点击右上角 "Start your project"
- 用 GitHub 账号登录（最简单）
- 或者用邮箱注册

### 3. 创建项目
点击 "New Project"，填写：
- **Name**: `blog-system`（随便起名）
- **Database Password**: 输入一个密码，比如 `MyPassword123!`（记住它！）
- **Region**: 选择 `Northeast Asia (Tokyo)` 或 `Southeast Asia (Singapore)`

点击 "Create new project"，等 1-2 分钟。

### 4. 创建数据库表
项目创建好后：
1. 点击左边的 **SQL Editor**（像一个代码图标）
2. 点击 **New query**
3. 打开项目里的 `database-setup.sql` 文件
4. 复制里面所有内容
5. 粘贴到 Supabase 的编辑器里
6. 点击右下角 **Run** 按钮
7. 看到 "Success. No rows returned" 就成功了！

### 5. 获取密钥（重要！）
1. 点击左下角 **Settings**（齿轮图标）
2. 点击 **API**
3. 你会看到两个重要的东西：

**Project URL**（长这样）：
```
https://abcdefghijk.supabase.co
```

**anon public key**（很长的一串）：
```
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFiY2RlZmdoaWprIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODk1NjU2NzAsImV4cCI6MjAwNTE0MTY3MH0.xxxxxxxxxxxxxxxxxxxxx
```

**把这两个复制到记事本，待会要用！**

---

## 第三步：在 Netlify 设置环境变量

### 1. 登录 Netlify
打开：https://app.netlify.com/

### 2. 选择你的项目
点击你的博客项目。

### 3. 进入设置
点击顶部的 **Site settings**。

### 4. 添加环境变量
1. 点击左边的 **Environment variables**
2. 点击 **Add a variable**
3. 添加 3 个变量：

**第一个变量：**
- Key: `SUPABASE_URL`
- Value: 粘贴你刚才复制的 Project URL

**第二个变量：**
- Key: `SUPABASE_KEY`
- Value: 粘贴你刚才复制的 anon public key

**第三个变量：**
- Key: `JWT_SECRET`
- Value: 随便输入一串复杂的字符，比如：`my-blog-secret-key-2024-xyz`

点击 **Save** 保存。

---

## 第四步：推送代码到 GitHub

在命令行运行：

```bash
git add .
git commit -m "添加后端功能"
git push
```

如果提示输入用户名密码，输入你的 GitHub 账号信息。

---

## 第五步：等待部署

1. 回到 Netlify 网站
2. 点击 **Deploys**
3. 你会看到一个新的部署正在进行（黄色的）
4. 等待 2-3 分钟，变成绿色就成功了！

---

## 第六步：测试一下

### 测试注册功能

1. 打开你的网站（Netlify 给你的网址）
2. 点击"注册"
3. 填写信息：
   - 用户名：`testuser`
   - 邮箱：`test@example.com`
   - 密码：`123456`
4. 点击"注册"按钮

如果看到"注册成功"，恭喜你！后端已经工作了！

### 测试登录功能

1. 用刚才注册的账号登录
2. 如果能成功登录，说明一切正常！

---

## 🎉 完成！

现在你的博客系统有了真实的后端：
- ✅ 用户注册会保存到数据库
- ✅ 用户登录会验证密码
- ✅ 数据在云端，不会丢失
- ✅ 任何设备都能访问

---

## 🆘 遇到问题？

### 问题 1：npm install 报错
**解决**：删除 `node_modules` 文件夹和 `package-lock.json`，重新运行 `npm install`

### 问题 2：注册时提示"注册失败"
**解决**：
1. 检查 Netlify 的环境变量是否正确设置
2. 在 Netlify 点击 **Deploys** → **Trigger deploy** → **Clear cache and deploy**

### 问题 3：看不到 Functions
**解决**：确保 `netlify.toml` 文件在项目根目录，并且已经推送到 GitHub

### 问题 4：还是不行
**解决**：
1. 在 Netlify 点击 **Functions**
2. 点击 `auth-register` 或 `auth-login`
3. 查看 **Function log**，看看有什么错误信息
4. 把错误信息告诉我，我帮你解决！

---

## 📚 下一步做什么？

现在注册和登录已经完成了！接下来可以：

1. **让文章管理也用真实后端**（创建、编辑、删除文章）
2. **添加分类管理功能**
3. **添加用户头像上传**
4. **添加找回密码功能**

告诉我你想先做哪个，我继续教你！😊
