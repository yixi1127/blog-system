# 文章功能测试指南

## 前置准备

### 1. 启动开发服务器
```bash
npm run serve
```

### 2. 确保 Netlify Dev 正在运行
如果使用 Netlify Functions，需要运行：
```bash
netlify dev
```

### 3. 登录系统
- 打开浏览器访问 `http://localhost:8080`（或你的开发端口）
- 使用已有账号登录，或注册新账号

## 测试步骤

### 测试1：新建文章

1. **进入新建页面**
   - 点击导航菜单中的"文章管理"或"文章列表"
   - 点击"新建文章"按钮

2. **填写文章信息**
   ```
   标题：测试文章 - Vue3 入门教程
   分类：选择一个已有分类（如"前端开发"）
   标签：Vue3, TypeScript, 教程
   内容：
   # Vue3 入门教程
   
   这是一篇测试文章，用于验证文章创建功能。
   
   ## 主要内容
   1. Vue3 基础知识
   2. Composition API
   3. TypeScript 集成
   
   ## 总结
   Vue3 是一个强大的前端框架。
   
   摘要：本文介绍 Vue3 的基础知识和 Composition API 的使用方法。
   发布状态：选择"立即发布"
   ```

3. **提交文章**
   - 点击"发布文章"按钮
   - 观察是否显示"发布成功"提示
   - 自动跳转到文章列表

4. **验证结果**
   - ✅ 在文章列表中能看到刚创建的文章
   - ✅ 文章信息显示正确（标题、分类、标签、状态）
   - ✅ 创建时间显示正确

### 测试2：查看文章

1. **从列表查看**
   - 在文章列表中找到刚创建的文章
   - 点击文章标题或"查看"按钮

2. **验证详情页**
   - ✅ 文章标题显示正确
   - ✅ 分类和标签显示正确
   - ✅ 文章内容完整显示
   - ✅ 摘要显示正确
   - ✅ 作者、创建时间、更新时间显示正确
   - ✅ 统计信息显示（阅读量、点赞数、评论数）

3. **检查浏览器控制台**
   - 按 F12 打开开发者工具
   - 查看 Console 标签，确认没有错误信息
   - 查看 Network 标签，确认 API 请求成功（状态码 200）

### 测试3：编辑文章

1. **进入编辑页面**
   - 方式1：在文章详情页点击"编辑"按钮
   - 方式2：在文章列表点击"编辑"按钮

2. **验证数据加载**
   - ✅ 标题自动填充
   - ✅ 分类自动选中
   - ✅ 标签自动显示
   - ✅ 内容自动填充
   - ✅ 摘要自动填充
   - ✅ 发布状态正确显示

3. **修改文章内容**
   ```
   修改标题：测试文章 - Vue3 入门教程（已更新）
   添加标签：学习笔记
   修改内容：在原内容末尾添加：
   
   ## 更新内容
   - 添加了更多示例代码
   - 补充了最佳实践
   
   修改摘要：本文介绍 Vue3 的基础知识、Composition API 的使用方法和最佳实践。
   ```

4. **保存修改**
   - 点击"保存修改"按钮
   - 观察是否显示"修改成功"提示
   - 自动跳转到文章列表

5. **验证修改结果**
   - 在列表中查看文章，标题应该已更新
   - 点击查看文章详情，确认所有修改都已保存
   - 检查更新时间是否变化

### 测试4：草稿功能

1. **创建草稿**
   - 新建文章，填写内容
   - 发布状态选择"保存为草稿"
   - 提交后在列表中状态应显示为"草稿"（橙色标签）

2. **编辑草稿并发布**
   - 编辑草稿文章
   - 修改发布状态为"立即发布"
   - 保存后状态应变为"已发布"（绿色标签）

### 测试5：筛选和搜索

1. **按标题搜索**
   - 在搜索框输入"Vue3"
   - 点击搜索或按回车
   - 应该只显示标题包含"Vue3"的文章

2. **按分类筛选**
   - 选择一个分类
   - 应该只显示该分类的文章

3. **按状态筛选**
   - 选择"已发布"
   - 应该只显示已发布的文章
   - 选择"草稿"
   - 应该只显示草稿文章

### 测试6：删除文章

1. **删除操作**
   - 在文章列表找到要删除的文章
   - 点击"删除"按钮
   - 确认删除提示
   - 点击"确定"

2. **验证结果**
   - ✅ 显示"删除成功"提示
   - ✅ 文章从列表中消失
   - ✅ 总数减少

## 常见问题排查

### 问题1：创建文章后列表中看不到

**检查步骤：**
1. 打开浏览器开发者工具（F12）
2. 查看 Network 标签
3. 找到 `article-create` 请求，查看响应
4. 找到 `article-list` 请求，查看响应
5. 检查 Console 是否有错误信息

**可能原因：**
- 创建 API 返回错误
- 列表 API 查询条件有问题
- 数据库连接问题

### 问题2：查看文章时报错

**检查步骤：**
1. 查看 Network 中的 `article-detail` 请求
2. 查看响应状态码和错误信息
3. 检查 Console 错误日志

**可能原因：**
- 文章 ID 不存在
- 数据库查询失败
- 权限验证失败

### 问题3：编辑文章时数据没有加载

**检查步骤：**
1. 确认 URL 中包含文章 ID（如 `/article/edit/123`）
2. 查看 Network 中的 API 请求
3. 检查 Console 错误信息

**可能原因：**
- 路由参数传递错误
- API 请求失败
- 数据格式不匹配

## 测试数据建议

建议创建以下测试文章：

1. **技术文章**
   - 标题：Vue3 响应式原理详解
   - 分类：前端开发
   - 标签：Vue3, 响应式, 源码分析

2. **教程文章**
   - 标题：TypeScript 从入门到精通
   - 分类：编程语言
   - 标签：TypeScript, 教程, 学习笔记

3. **草稿文章**
   - 标题：待完成的文章草稿
   - 分类：其他
   - 状态：草稿

## 测试完成检查清单

- [ ] 能成功创建文章
- [ ] 创建后能在列表中看到
- [ ] 能查看文章详情
- [ ] 能编辑已有文章
- [ ] 编辑后修改生效
- [ ] 能创建和编辑草稿
- [ ] 能发布草稿
- [ ] 搜索功能正常
- [ ] 分类筛选正常
- [ ] 状态筛选正常
- [ ] 能删除文章
- [ ] 分页功能正常

## 性能测试

1. **创建多篇文章**
   - 创建 20+ 篇文章
   - 测试列表加载速度
   - 测试分页功能

2. **长文章测试**
   - 创建包含 5000+ 字的文章
   - 测试保存和加载速度
   - 测试编辑器性能

## 报告问题

如果发现问题，请记录：
1. 操作步骤
2. 预期结果
3. 实际结果
4. 浏览器控制台错误信息
5. Network 请求详情
6. 截图（如果可能）
